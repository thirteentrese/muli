# Free Discord Bot Deployment Guide

This guide covers deploying your Discord bot to free hosting platforms for 24/7 operation.

## üöÄ Quick Setup

Before deploying, ensure you have your Discord bot credentials:
- `DISCORD_BOT_TOKEN` - From Discord Developer Portal
- `DISCORD_CLIENT_ID` - Your bot's application ID

## üÜì Free Platform Options

### 1. Railway (Recommended)
**Free Tier**: 500 hours/month + $5 credit

**Steps:**
1. Fork/clone this repository to GitHub
2. Visit [railway.app](https://railway.app)
3. Sign up with GitHub
4. Click "Deploy from GitHub repo"
5. Select your repository
6. Set environment variables:
   - `DISCORD_BOT_TOKEN`
   - `DISCORD_CLIENT_ID`
7. Deploy!

**Configuration**: `railway.json` is already included.

### 2. Render
**Free Tier**: 750 hours/month (sleeps after 15min inactivity)

**Steps:**
1. Push code to GitHub
2. Visit [render.com](https://render.com)
3. Create new "Web Service"
4. Connect GitHub repository
5. Use these settings:
   - **Build Command**: `npm install`
   - **Start Command**: `npx tsx server/bot-only.ts`
6. Add environment variables in dashboard:
   - `DISCORD_BOT_TOKEN`
   - `DISCORD_CLIENT_ID`

**Configuration**: `render-simple.yaml` is included for easier deployment.

**If Build Fails**: Use the simpler approach above instead of the render.yaml file.

### 3. Heroku Alternative - Railway
Railway is the best Heroku replacement for Discord bots.

### 4. Self-Hosting Options
- **Raspberry Pi**: Perfect for small Discord bots
- **VPS**: DigitalOcean, Linode ($5/month options)
- **Home Server**: Using your computer

## üê≥ Docker Deployment

**Option 1: Simple (Recommended)**
Use `Dockerfile.simple` for the easiest deployment:
```bash
docker build -f Dockerfile.simple -t discord-bot .
docker run -d -e DISCORD_BOT_TOKEN=your_token -e DISCORD_CLIENT_ID=your_client_id -p 3000:3000 discord-bot
```

**Option 2: Built Version**
Use the regular `Dockerfile` for a compiled version:
```bash
docker build -t discord-bot .
docker run -d -e DISCORD_BOT_TOKEN=your_token -e DISCORD_CLIENT_ID=your_client_id -p 3000:3000 discord-bot
```

**If you get Vite build errors:** Use `Dockerfile.simple` instead.

## üìã Environment Variables

Required for all platforms:

```env
DISCORD_BOT_TOKEN=your_bot_token_here
DISCORD_CLIENT_ID=your_client_id_here
NODE_ENV=production
```

## üîß Platform-Specific Notes

### Railway
- Supports automatic builds from GitHub
- Built-in PostgreSQL if needed later
- Great for Discord bots

### Render
- Free tier sleeps after 15 minutes of inactivity
- May take 30+ seconds to wake up
- Good for testing

### Docker Platforms
- Works with any Docker-compatible host
- Consistent deployment across platforms

## üö¶ Health Checks

All platforms can use the built-in health check:
- **Endpoint**: `/health`
- **Returns**: Bot status and uptime

## üîÑ Deployment Checklist

- [ ] Bot token and client ID ready
- [ ] Code pushed to GitHub repository
- [ ] Platform account created
- [ ] Environment variables set
- [ ] Health check endpoint working
- [ ] Bot responds to commands in Discord

## üÜò Troubleshooting

**Bot not responding:**
1. Check environment variables are set correctly
2. Verify bot token hasn't expired
3. Check health endpoint: `https://your-app.com/health`
4. Review platform logs

**Deployment fails:**
1. Ensure `package.json` scripts are correct
2. Check Node.js version compatibility
3. Verify build process completes

**Platform-specific issues:**
- **Railway**: Check build logs in dashboard
- **Render**: Verify start command in service settings
- **Docker**: Check container logs with `docker logs`

## üí° Tips for Free Hosting

1. **Railway**: Best overall experience for Discord bots
2. **Render**: Good backup option, but may sleep
3. **Monitor usage**: Stay within free tier limits
4. **Health checks**: Essential for keeping services alive
5. **Logging**: Use platform logs for debugging

## üîí Security

- Never commit tokens to Git
- Use environment variables for all secrets
- Regularly rotate bot tokens
- Monitor bot permissions in Discord

Your Discord bot is now ready for 24/7 deployment! Choose the platform that best fits your needs.